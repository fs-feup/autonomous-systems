<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Formula Student Autonomous Systems: Bayesian Optimization</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Formula Student Autonomous Systems
   </div>
   <div id="projectbrief">The code for the main driverless system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dd/d7f/md_src_2bayesian-opt_2_r_e_a_d_m_e.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Bayesian Optimization</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md4"></a> This diretory holds all necessary files to use bayesian optimization. To optimize an algorithm, create a folder with its name, for example "cone_coloring". That directory must contain a python file called "adapt.py" that defines the parameter space (the range of the parameters to be tuned; must be called "parameters_space"), and optionally define some specfic parameters to be tested (must be called "parameters_list"). That directory must contain an executable file called "bayesian_opt", which is going to be executed from the <a class="el" href="../../d3/dc9/bayesian_8py.html">bayesian.py</a> file. That executable must recieve the parameters through the terminal.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Structure of "bayesian-opt"</h1>
<p>The main folder holds the file called "bayesian.py", which is responsible for Bayesian model. It only generates the next parameters to be tested, using the Bayesian Optimization model from the library Skopt.</p>
<p>Each of folders inside "bayesian-opt" is related to one of the algorithm that needs tuning.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Structure of each algorithm's folder</h2>
<p>This folder must hold a file called "bayesian_opt" which is an executable that recieves the parameters via terminal and outputs an evaluation for the parameters to the terminal (std::cout for C++ or print() in Python). The default bayesian optimization tries to minimize the result. If you want to maximize it, just multiply the result by -1.</p>
<p>This folder must hold a python file called "adapt.py" that defines the parameter space (which parameters to tune and their range), called "param_space", which the "bayesian.py" file will use. The "adapt.py" file can include a list of lists, called "parameters_list" which holds some specific sets of parameters you may want to test; if you don't want to test specific parameters, just leave an empty list there (parameters_list = []). To order in which parameters are listed is the same as in "param_space", and will be passed to the executable in that order. To make things easier, use the same order as in the launch files.</p>
<p>Keep everything related to each algorithm in its folder, including all necessary test scenarios and Makefiles.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
Dependencies</h1>
<p>The the file <a href="../.././bayesian.py">bayesian.py</a> depends on the following libraries: sys, os, signal, subprocess, importlib, skopt, and operator. The Bayesian Optimization model is calculated by the library skopt.</p>
<h1><a class="anchor" id="autotoc_md8"></a>
How to run</h1>
<p>To specify which algorithm you want to tune, go to <a href="../.././bayesian.py">bayesian.py</a> and change the variable "algorithm_to_tune" to the name of the directory corresponding to the algorithm you want to tune.</p>
<p>Then, you only need to run the same file, <a href="../.././bayesian.py">bayesian.py</a>, from the "home/ws/bayesian-opt" directory. Use this command:</p>
<div class="fragment"><div class="line">python3 bayesian.py</div>
</div><!-- fragment --><p> You must do it in the Docker container.</p>
<h1><a class="anchor" id="autotoc_md9"></a>
Result</h1>
<p>The best 5 sets of parameters will be exported to a file called "parameters_ranking.txt" in each algorithm's directory. The order of the parameters will be the same as in "param_space" from "adapt.py".</p>
<p>The parameters will be appended to the previous content of the file (the previous content will not be deleted). </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
