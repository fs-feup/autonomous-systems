<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Formula Student Autonomous Systems: LMNode Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Formula Student Autonomous Systems
   </div>
   <div id="projectbrief">The code for the main driverless system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dd/db3/class_l_m_node.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../d4/ddd/class_l_m_node-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">LMNode Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class representing the main loc_map node responsible for publishing the calculated vehicle localization and the map. As well as, subscribing and interpreting information, such as the cone's position and colors, from the perception module.  
 <a href="../../dd/db3/class_l_m_node.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d9/d84/lm__node_8hpp_source.html">lm_node.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for LMNode:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/da1/class_l_m_node__inherit__graph.png" border="0" usemap="#a_l_m_node_inherit__map" alt="Inheritance graph"/></div>
<map name="a_l_m_node_inherit__map" id="a_l_m_node_inherit__map">
<area shape="rect" title="Class representing the main loc_map node responsible for publishing the calculated vehicle localizati..." alt="" coords="5,119,197,408"/>
<area shape="rect" title=" " alt="" coords="59,5,144,71"/>
<area shape="poly" title=" " alt="" coords="104,85,104,119,99,119,99,85"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for LMNode:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d5b/class_l_m_node__coll__graph.png" border="0" usemap="#a_l_m_node_coll__map" alt="Collaboration graph"/></div>
<map name="a_l_m_node_coll__map" id="a_l_m_node_coll__map">
<area shape="rect" title="Class representing the main loc_map node responsible for publishing the calculated vehicle localizati..." alt="" coords="5,119,197,408"/>
<area shape="rect" title=" " alt="" coords="59,5,144,71"/>
<area shape="poly" title=" " alt="" coords="104,85,104,119,99,119,99,85"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a50dea5d57d22503eca329e8ce5064d47" id="r_a50dea5d57d22503eca329e8ce5064d47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db3/class_l_m_node.html#a50dea5d57d22503eca329e8ce5064d47">_perception_subscription_callback</a> (const custom_interfaces::msg::ConeArray msg)</td></tr>
<tr class="memdesc:a50dea5d57d22503eca329e8ce5064d47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback that updates everytime information is received from the perception module.  <br /></td></tr>
<tr class="separator:a50dea5d57d22503eca329e8ce5064d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02b591125219a30a521ecb48255d6c54" id="r_a02b591125219a30a521ecb48255d6c54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db3/class_l_m_node.html#a02b591125219a30a521ecb48255d6c54">_imu_subscription_callback</a> (double rotational_velocity, double acceleration_x, double acceleration_y)</td></tr>
<tr class="memdesc:a02b591125219a30a521ecb48255d6c54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to be called everytime information is received from the IMU.  <br /></td></tr>
<tr class="separator:a02b591125219a30a521ecb48255d6c54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a714e7a6776e47cbd6ae4f14ef9513195" id="r_a714e7a6776e47cbd6ae4f14ef9513195"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db3/class_l_m_node.html#a714e7a6776e47cbd6ae4f14ef9513195">_wheel_speeds_subscription_callback</a> (double lb_speed, double lf_speed, double rb_speed, double rf_speed, double steering_angle)</td></tr>
<tr class="memdesc:a714e7a6776e47cbd6ae4f14ef9513195"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to be called everytime information is received from the wheel encoders.  <br /></td></tr>
<tr class="separator:a714e7a6776e47cbd6ae4f14ef9513195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c430d2c36500207447268a8d02e0f2f" id="r_a8c430d2c36500207447268a8d02e0f2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db3/class_l_m_node.html#a8c430d2c36500207447268a8d02e0f2f">_update_and_publish</a> ()</td></tr>
<tr class="memdesc:a8c430d2c36500207447268a8d02e0f2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes:  <br /></td></tr>
<tr class="separator:a8c430d2c36500207447268a8d02e0f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbb3b2569d755a40a5e90c896787ecf1" id="r_abbb3b2569d755a40a5e90c896787ecf1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db3/class_l_m_node.html#abbb3b2569d755a40a5e90c896787ecf1">_publish_localization</a> ()</td></tr>
<tr class="memdesc:abbb3b2569d755a40a5e90c896787ecf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">publishes the localization ('vehicle_localization') to the topic vehicle_location  <br /></td></tr>
<tr class="separator:abbb3b2569d755a40a5e90c896787ecf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bf25930993183e7c24702634532adab" id="r_a2bf25930993183e7c24702634532adab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db3/class_l_m_node.html#a2bf25930993183e7c24702634532adab">_publish_map</a> ()</td></tr>
<tr class="memdesc:a2bf25930993183e7c24702634532adab"><td class="mdescLeft">&#160;</td><td class="mdescRight">publishes the map ('track_map') to the topic track_map  <br /></td></tr>
<tr class="separator:a2bf25930993183e7c24702634532adab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7d786f4a04bdd59ce770cffb2872551" id="r_ab7d786f4a04bdd59ce770cffb2872551"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db3/class_l_m_node.html#ab7d786f4a04bdd59ce770cffb2872551">_ekf_step</a> ()</td></tr>
<tr class="memdesc:ab7d786f4a04bdd59ce770cffb2872551"><td class="mdescLeft">&#160;</td><td class="mdescRight">executes the prediction step of the EKF  <br /></td></tr>
<tr class="separator:ab7d786f4a04bdd59ce770cffb2872551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea4573760aba34091b51cc9af85c4ed5" id="r_aea4573760aba34091b51cc9af85c4ed5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db3/class_l_m_node.html#aea4573760aba34091b51cc9af85c4ed5">LMNode</a> (<a class="el" href="../../da/da6/class_extended_kalman_filter.html">ExtendedKalmanFilter</a> *ekf, <a class="el" href="../../dc/d59/struct_cone_map.html">ConeMap</a> *perception_map, <a class="el" href="../../db/d6d/struct_motion_update.html">MotionUpdate</a> *motion_update, <a class="el" href="../../dc/d59/struct_cone_map.html">ConeMap</a> *track_map, <a class="el" href="../../de/dfe/struct_vehicle_state.html">VehicleState</a> *vehicle_state, bool use_odometry)</td></tr>
<tr class="memdesc:aea4573760aba34091b51cc9af85c4ed5"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../dd/db3/class_l_m_node.html" title="Class representing the main loc_map node responsible for publishing the calculated vehicle localizati...">LMNode</a> constructor declaration.  <br /></td></tr>
<tr class="separator:aea4573760aba34091b51cc9af85c4ed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88d954224798c10f160ef922ca270c85" id="r_a88d954224798c10f160ef922ca270c85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db3/class_l_m_node.html#a88d954224798c10f160ef922ca270c85">set_mission</a> (<a class="el" href="../../d6/d14/loc__map_2include_2utils_2mission_8hpp.html#af686af98019fe71e9f18190349618431">Mission</a> mission)</td></tr>
<tr class="memdesc:a88d954224798c10f160ef922ca270c85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mission setter.  <br /></td></tr>
<tr class="separator:a88d954224798c10f160ef922ca270c85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a28a0317cd05f770daba784ab06a389c8" id="r_a28a0317cd05f770daba784ab06a389c8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../db/d6d/struct_motion_update.html">MotionUpdate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db3/class_l_m_node.html#a28a0317cd05f770daba784ab06a389c8">odometry_to_velocities_transform</a> (double lb_speed, double lf_speed, double rb_speed, double rf_speed, double steering_angle)</td></tr>
<tr class="memdesc:a28a0317cd05f770daba784ab06a389c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the odometry data to translational and rotational velocities.  <br /></td></tr>
<tr class="separator:a28a0317cd05f770daba784ab06a389c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class representing the main loc_map node responsible for publishing the calculated vehicle localization and the map. As well as, subscribing and interpreting information, such as the cone's position and colors, from the perception module. </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d84/lm__node_8hpp_source.html#l00032">32</a> of file <a class="el" href="../../d9/d84/lm__node_8hpp_source.html">lm_node.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aea4573760aba34091b51cc9af85c4ed5" name="aea4573760aba34091b51cc9af85c4ed5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea4573760aba34091b51cc9af85c4ed5">&#9670;&#160;</a></span>LMNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LMNode::LMNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/da6/class_extended_kalman_filter.html">ExtendedKalmanFilter</a> *&#160;</td>
          <td class="paramname"><em>ekf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d59/struct_cone_map.html">ConeMap</a> *&#160;</td>
          <td class="paramname"><em>perception_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d6d/struct_motion_update.html">MotionUpdate</a> *&#160;</td>
          <td class="paramname"><em>motion_update</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d59/struct_cone_map.html">ConeMap</a> *&#160;</td>
          <td class="paramname"><em>track_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dfe/struct_vehicle_state.html">VehicleState</a> *&#160;</td>
          <td class="paramname"><em>vehicle_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>use_odometry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="../../dd/db3/class_l_m_node.html" title="Class representing the main loc_map node responsible for publishing the calculated vehicle localizati...">LMNode</a> constructor declaration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ekf</td><td>Pointer to the EKF </td></tr>
    <tr><td class="paramname">map</td><td>Pointer to the map </td></tr>
    <tr><td class="paramname">motion_update</td><td>Pointer to the motion update </td></tr>
    <tr><td class="paramname">track_map</td><td>Pointer to the track map </td></tr>
    <tr><td class="paramname">vehicle_state</td><td>Pointer to the vehicle state </td></tr>
    <tr><td class="paramname">use_odometry</td><td>Whether to use odometry or IMU </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df0/lm__node_8cpp_source.html#l00010">10</a> of file <a class="el" href="../../d5/df0/lm__node_8cpp_source.html">lm_node.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/db3/class_l_m_node_aea4573760aba34091b51cc9af85c4ed5_cgraph.png" border="0" usemap="#add/db3/class_l_m_node_aea4573760aba34091b51cc9af85c4ed5_cgraph" alt=""/></div>
<map name="add/db3/class_l_m_node_aea4573760aba34091b51cc9af85c4ed5_cgraph" id="add/db3/class_l_m_node_aea4573760aba34091b51cc9af85c4ed5_cgraph">
<area shape="rect" title="LMNode constructor declaration." alt="" coords="5,84,133,110"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#a50dea5d57d22503eca329e8ce5064d47" title="Callback that updates everytime information is received from the perception module." alt="" coords="181,77,334,117"/>
<area shape="poly" title=" " alt="" coords="133,94,165,94,165,100,133,100"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#abbb3b2569d755a40a5e90c896787ecf1" title="publishes the localization (&#39;vehicle_localization&#39;) to the topic vehicle_location" alt="" coords="382,5,578,31"/>
<area shape="poly" title=" " alt="" coords="300,74,381,40,402,33,404,38,383,45,302,78"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#a2bf25930993183e7c24702634532adab" title="publishes the map (&#39;track_map&#39;) to the topic track_map" alt="" coords="402,55,559,80"/>
<area shape="poly" title=" " alt="" coords="334,84,386,77,386,82,335,89"/>
<area shape="rect" href="../../da/da6/class_extended_kalman_filter.html#a230559bb9193f7acf494ae9e889fb6f8" title="Correction step:" alt="" coords="407,105,554,145"/>
<area shape="poly" title=" " alt="" coords="335,104,391,111,391,116,334,109"/>
<area shape="rect" href="../../da/da6/class_extended_kalman_filter.html#ae59429128f079a8a03c53360f7a9bf4f" title="Updates vehicle state and map variables according to the state vector X." alt="" coords="407,170,554,211"/>
<area shape="poly" title=" " alt="" coords="300,115,383,154,401,161,399,166,381,159,298,120"/>
<area shape="rect" href="../../d7/d64/class_observation_model.html#a97a9e71e7cee696be91a569eb65b9df9" title="Get the observation noise covariance matrix (C or H)" alt="" coords="626,17,830,73"/>
<area shape="poly" title=" " alt="" coords="544,101,624,75,626,80,546,107"/>
<area shape="rect" href="../../d7/d64/class_observation_model.html#aa789708c6a934ba1edfc8386b1f38d4f" title="Get the state to observation matrix of the observation model (H)" alt="" coords="653,97,803,153"/>
<area shape="poly" title=" " alt="" coords="554,122,637,122,637,128,554,128"/>
<area shape="rect" href="../../d7/d64/class_observation_model.html#a0f8d3fc26c59869171ad60d08322d1d7" title="Calculate expected observation from the state vector." alt="" coords="628,177,828,217"/>
<area shape="poly" title=" " alt="" coords="553,143,642,169,640,174,552,148"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab7d786f4a04bdd59ce770cffb2872551" name="ab7d786f4a04bdd59ce770cffb2872551"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7d786f4a04bdd59ce770cffb2872551">&#9670;&#160;</a></span>_ekf_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LMNode::_ekf_step </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>executes the prediction step of the EKF </p>

<p class="definition">Definition at line <a class="el" href="../../d5/df0/lm__node_8cpp_source.html#l00186">186</a> of file <a class="el" href="../../d5/df0/lm__node_8cpp_source.html">lm_node.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/db3/class_l_m_node_ab7d786f4a04bdd59ce770cffb2872551_cgraph.png" border="0" usemap="#add/db3/class_l_m_node_ab7d786f4a04bdd59ce770cffb2872551_cgraph" alt=""/></div>
<map name="add/db3/class_l_m_node_ab7d786f4a04bdd59ce770cffb2872551_cgraph" id="add/db3/class_l_m_node_ab7d786f4a04bdd59ce770cffb2872551_cgraph">
<area shape="rect" title="executes the prediction step of the EKF" alt="" coords="5,271,140,297"/>
<area shape="rect" href="../../da/da6/class_extended_kalman_filter.html#a230559bb9193f7acf494ae9e889fb6f8" title="Correction step:" alt="" coords="188,129,335,170"/>
<area shape="poly" title=" " alt="" coords="91,268,218,177,221,181,94,273"/>
<area shape="rect" href="../../da/da6/class_extended_kalman_filter.html#aa5aeb5c329fffcbcb1a197de8e263427" title="Prediction step:" alt="" coords="188,264,335,304"/>
<area shape="poly" title=" " alt="" coords="140,281,172,281,172,287,140,287"/>
<area shape="rect" href="../../da/da6/class_extended_kalman_filter.html#ae59429128f079a8a03c53360f7a9bf4f" title="Updates vehicle state and map variables according to the state vector X." alt="" coords="188,329,335,370"/>
<area shape="poly" title=" " alt="" coords="113,295,187,321,185,326,111,300"/>
<area shape="rect" href="../../d7/d64/class_observation_model.html#a97a9e71e7cee696be91a569eb65b9df9" title="Get the observation noise covariance matrix (C or H)" alt="" coords="383,5,586,61"/>
<area shape="poly" title=" " alt="" coords="291,126,333,98,382,71,393,65,395,70,384,76,336,103,294,130"/>
<area shape="rect" href="../../d7/d64/class_observation_model.html#aa789708c6a934ba1edfc8386b1f38d4f" title="Get the state to observation matrix of the observation model (H)" alt="" coords="410,85,560,141"/>
<area shape="poly" title=" " alt="" coords="335,135,394,125,395,130,336,140"/>
<area shape="rect" href="../../d7/d64/class_observation_model.html#a0f8d3fc26c59869171ad60d08322d1d7" title="Calculate expected observation from the state vector." alt="" coords="385,165,584,206"/>
<area shape="poly" title=" " alt="" coords="336,158,370,164,369,169,335,164"/>
<area shape="rect" href="../../db/d66/class_motion_model.html#aad4c79b92acd351e94e7b847b61f965b" title="Calculate state covariance matrix from motion estimation." alt="" coords="402,230,567,271"/>
<area shape="poly" title=" " alt="" coords="335,270,386,262,387,268,336,275"/>
<area shape="rect" href="../../db/d66/class_motion_model.html#a76de9b7caf93cd717bf388aff40ab589" title="Get the process noise covariance matrix object." alt="" coords="399,296,571,336"/>
<area shape="poly" title=" " alt="" coords="336,292,383,299,382,304,335,297"/>
<area shape="rect" href="../../db/d66/class_motion_model.html#a24a7f8fab182b07ba116911cdd33893f" title="Calculate expected state vector from motion estimation." alt="" coords="415,361,555,402"/>
<area shape="poly" title=" " alt="" coords="312,302,336,315,360,331,384,345,401,353,399,358,382,350,357,335,334,319,309,307"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/db3/class_l_m_node_ab7d786f4a04bdd59ce770cffb2872551_icgraph.png" border="0" usemap="#add/db3/class_l_m_node_ab7d786f4a04bdd59ce770cffb2872551_icgraph" alt=""/></div>
<map name="add/db3/class_l_m_node_ab7d786f4a04bdd59ce770cffb2872551_icgraph" id="add/db3/class_l_m_node_ab7d786f4a04bdd59ce770cffb2872551_icgraph">
<area shape="rect" title="executes the prediction step of the EKF" alt="" coords="205,13,339,39"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#a8c430d2c36500207447268a8d02e0f2f" title="Executes:" alt="" coords="5,5,157,46"/>
<area shape="poly" title=" " alt="" coords="189,28,157,28,157,23,189,23"/>
</map>
</div>

</div>
</div>
<a id="a02b591125219a30a521ecb48255d6c54" name="a02b591125219a30a521ecb48255d6c54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02b591125219a30a521ecb48255d6c54">&#9670;&#160;</a></span>_imu_subscription_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LMNode::_imu_subscription_callback </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rotational_velocity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>acceleration_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>acceleration_y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to be called everytime information is received from the IMU. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rotational_velocity</td><td></td></tr>
    <tr><td class="paramname">acceleration_x</td><td></td></tr>
    <tr><td class="paramname">acceleration_y</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df0/lm__node_8cpp_source.html#l00065">65</a> of file <a class="el" href="../../d5/df0/lm__node_8cpp_source.html">lm_node.cpp</a>.</p>

</div>
</div>
<a id="a50dea5d57d22503eca329e8ce5064d47" name="a50dea5d57d22503eca329e8ce5064d47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50dea5d57d22503eca329e8ce5064d47">&#9670;&#160;</a></span>_perception_subscription_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LMNode::_perception_subscription_callback </td>
          <td>(</td>
          <td class="paramtype">const custom_interfaces::msg::ConeArray&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback that updates everytime information is received from the perception module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Message containing the array of perceived cones </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df0/lm__node_8cpp_source.html#l00031">31</a> of file <a class="el" href="../../d5/df0/lm__node_8cpp_source.html">lm_node.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/db3/class_l_m_node_a50dea5d57d22503eca329e8ce5064d47_cgraph.png" border="0" usemap="#add/db3/class_l_m_node_a50dea5d57d22503eca329e8ce5064d47_cgraph" alt=""/></div>
<map name="add/db3/class_l_m_node_a50dea5d57d22503eca329e8ce5064d47_cgraph" id="add/db3/class_l_m_node_a50dea5d57d22503eca329e8ce5064d47_cgraph">
<area shape="rect" title="Callback that updates everytime information is received from the perception module." alt="" coords="5,77,159,117"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#abbb3b2569d755a40a5e90c896787ecf1" title="publishes the localization (&#39;vehicle_localization&#39;) to the topic vehicle_location" alt="" coords="207,5,403,31"/>
<area shape="poly" title=" " alt="" coords="124,74,206,40,227,33,229,38,208,45,126,78"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#a2bf25930993183e7c24702634532adab" title="publishes the map (&#39;track_map&#39;) to the topic track_map" alt="" coords="226,55,384,80"/>
<area shape="poly" title=" " alt="" coords="159,84,210,77,211,82,159,89"/>
<area shape="rect" href="../../da/da6/class_extended_kalman_filter.html#a230559bb9193f7acf494ae9e889fb6f8" title="Correction step:" alt="" coords="231,105,379,145"/>
<area shape="poly" title=" " alt="" coords="159,104,216,111,215,116,159,109"/>
<area shape="rect" href="../../da/da6/class_extended_kalman_filter.html#ae59429128f079a8a03c53360f7a9bf4f" title="Updates vehicle state and map variables according to the state vector X." alt="" coords="231,170,379,211"/>
<area shape="poly" title=" " alt="" coords="124,115,208,154,226,161,224,166,206,159,122,120"/>
<area shape="rect" href="../../d7/d64/class_observation_model.html#a97a9e71e7cee696be91a569eb65b9df9" title="Get the observation noise covariance matrix (C or H)" alt="" coords="451,17,654,73"/>
<area shape="poly" title=" " alt="" coords="369,101,449,75,451,80,371,107"/>
<area shape="rect" href="../../d7/d64/class_observation_model.html#aa789708c6a934ba1edfc8386b1f38d4f" title="Get the state to observation matrix of the observation model (H)" alt="" coords="478,97,628,153"/>
<area shape="poly" title=" " alt="" coords="379,122,462,122,462,128,379,128"/>
<area shape="rect" href="../../d7/d64/class_observation_model.html#a0f8d3fc26c59869171ad60d08322d1d7" title="Calculate expected observation from the state vector." alt="" coords="453,177,652,217"/>
<area shape="poly" title=" " alt="" coords="378,143,467,169,465,174,376,148"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/db3/class_l_m_node_a50dea5d57d22503eca329e8ce5064d47_icgraph.png" border="0" usemap="#add/db3/class_l_m_node_a50dea5d57d22503eca329e8ce5064d47_icgraph" alt=""/></div>
<map name="add/db3/class_l_m_node_a50dea5d57d22503eca329e8ce5064d47_icgraph" id="add/db3/class_l_m_node_a50dea5d57d22503eca329e8ce5064d47_icgraph">
<area shape="rect" title="Callback that updates everytime information is received from the perception module." alt="" coords="181,5,334,46"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#aea4573760aba34091b51cc9af85c4ed5" title="LMNode constructor declaration." alt="" coords="5,13,133,39"/>
<area shape="poly" title=" " alt="" coords="165,28,133,28,133,23,165,23"/>
</map>
</div>

</div>
</div>
<a id="abbb3b2569d755a40a5e90c896787ecf1" name="abbb3b2569d755a40a5e90c896787ecf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbb3b2569d755a40a5e90c896787ecf1">&#9670;&#160;</a></span>_publish_localization()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LMNode::_publish_localization </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>publishes the localization ('vehicle_localization') to the topic vehicle_location </p>

<p class="definition">Definition at line <a class="el" href="../../d5/df0/lm__node_8cpp_source.html#l00147">147</a> of file <a class="el" href="../../d5/df0/lm__node_8cpp_source.html">lm_node.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/db3/class_l_m_node_abbb3b2569d755a40a5e90c896787ecf1_icgraph.png" border="0" usemap="#add/db3/class_l_m_node_abbb3b2569d755a40a5e90c896787ecf1_icgraph" alt=""/></div>
<map name="add/db3/class_l_m_node_abbb3b2569d755a40a5e90c896787ecf1_icgraph" id="add/db3/class_l_m_node_abbb3b2569d755a40a5e90c896787ecf1_icgraph">
<area shape="rect" title="publishes the localization (&#39;vehicle_localization&#39;) to the topic vehicle_location" alt="" coords="396,78,592,104"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#a50dea5d57d22503eca329e8ce5064d47" title="Callback that updates everytime information is received from the perception module." alt="" coords="188,5,341,46"/>
<area shape="poly" title=" " alt="" coords="431,76,338,49,339,44,433,71"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#a8c430d2c36500207447268a8d02e0f2f" title="Executes:" alt="" coords="189,71,340,111"/>
<area shape="poly" title=" " alt="" coords="381,94,340,94,340,88,381,88"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#a714e7a6776e47cbd6ae4f14ef9513195" title="Function to be called everytime information is received from the wheel encoders." alt="" coords="181,136,348,177"/>
<area shape="poly" title=" " alt="" coords="433,111,339,138,338,133,431,106"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#aea4573760aba34091b51cc9af85c4ed5" title="LMNode constructor declaration." alt="" coords="5,13,133,39"/>
<area shape="poly" title=" " alt="" coords="172,28,133,28,133,23,172,23"/>
</map>
</div>

</div>
</div>
<a id="a2bf25930993183e7c24702634532adab" name="a2bf25930993183e7c24702634532adab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bf25930993183e7c24702634532adab">&#9670;&#160;</a></span>_publish_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LMNode::_publish_map </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>publishes the map ('track_map') to the topic track_map </p>

<p class="definition">Definition at line <a class="el" href="../../d5/df0/lm__node_8cpp_source.html#l00163">163</a> of file <a class="el" href="../../d5/df0/lm__node_8cpp_source.html">lm_node.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/db3/class_l_m_node_a2bf25930993183e7c24702634532adab_icgraph.png" border="0" usemap="#add/db3/class_l_m_node_a2bf25930993183e7c24702634532adab_icgraph" alt=""/></div>
<map name="add/db3/class_l_m_node_a2bf25930993183e7c24702634532adab_icgraph" id="add/db3/class_l_m_node_a2bf25930993183e7c24702634532adab_icgraph">
<area shape="rect" title="publishes the map (&#39;track_map&#39;) to the topic track_map" alt="" coords="396,78,553,104"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#a50dea5d57d22503eca329e8ce5064d47" title="Callback that updates everytime information is received from the perception module." alt="" coords="188,5,341,46"/>
<area shape="poly" title=" " alt="" coords="416,76,331,49,333,44,417,71"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#a8c430d2c36500207447268a8d02e0f2f" title="Executes:" alt="" coords="189,71,340,111"/>
<area shape="poly" title=" " alt="" coords="380,94,341,94,341,88,380,88"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#a714e7a6776e47cbd6ae4f14ef9513195" title="Function to be called everytime information is received from the wheel encoders." alt="" coords="181,136,348,177"/>
<area shape="poly" title=" " alt="" coords="417,111,333,138,331,133,416,106"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#aea4573760aba34091b51cc9af85c4ed5" title="LMNode constructor declaration." alt="" coords="5,13,133,39"/>
<area shape="poly" title=" " alt="" coords="172,28,133,28,133,23,172,23"/>
</map>
</div>

</div>
</div>
<a id="a8c430d2c36500207447268a8d02e0f2f" name="a8c430d2c36500207447268a8d02e0f2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c430d2c36500207447268a8d02e0f2f">&#9670;&#160;</a></span>_update_and_publish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LMNode::_update_and_publish </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes: </p>
<ul>
<li>the prediction, validation and discovery steps of the EKF</li>
<li>publication of localization</li>
<li>publication of map </li>
</ul>

<p class="definition">Definition at line <a class="el" href="../../d5/df0/lm__node_8cpp_source.html#l00139">139</a> of file <a class="el" href="../../d5/df0/lm__node_8cpp_source.html">lm_node.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/db3/class_l_m_node_a8c430d2c36500207447268a8d02e0f2f_cgraph.png" border="0" usemap="#add/db3/class_l_m_node_a8c430d2c36500207447268a8d02e0f2f_cgraph" alt=""/></div>
<map name="add/db3/class_l_m_node_a8c430d2c36500207447268a8d02e0f2f_cgraph" id="add/db3/class_l_m_node_a8c430d2c36500207447268a8d02e0f2f_cgraph">
<area shape="rect" title="Executes:" alt="" coords="5,313,157,354"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#ab7d786f4a04bdd59ce770cffb2872551" title="executes the prediction step of the EKF" alt="" coords="236,271,370,297"/>
<area shape="poly" title=" " alt="" coords="157,314,227,298,228,303,158,319"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#abbb3b2569d755a40a5e90c896787ecf1" title="publishes the localization (&#39;vehicle_localization&#39;) to the topic vehicle_location" alt="" coords="205,320,401,346"/>
<area shape="poly" title=" " alt="" coords="157,331,189,331,189,336,157,336"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#a2bf25930993183e7c24702634532adab" title="publishes the map (&#39;track_map&#39;) to the topic track_map" alt="" coords="224,370,382,395"/>
<area shape="poly" title=" " alt="" coords="158,347,228,363,227,368,157,353"/>
<area shape="rect" href="../../da/da6/class_extended_kalman_filter.html#a230559bb9193f7acf494ae9e889fb6f8" title="Correction step:" alt="" coords="449,129,596,170"/>
<area shape="poly" title=" " alt="" coords="324,268,473,176,476,180,327,273"/>
<area shape="rect" href="../../da/da6/class_extended_kalman_filter.html#aa5aeb5c329fffcbcb1a197de8e263427" title="Prediction step:" alt="" coords="449,264,596,304"/>
<area shape="poly" title=" " alt="" coords="371,281,434,281,434,287,371,287"/>
<area shape="rect" href="../../da/da6/class_extended_kalman_filter.html#ae59429128f079a8a03c53360f7a9bf4f" title="Updates vehicle state and map variables according to the state vector X." alt="" coords="449,329,596,370"/>
<area shape="poly" title=" " alt="" coords="362,295,402,305,451,321,449,326,400,310,361,300"/>
<area shape="rect" href="../../d7/d64/class_observation_model.html#a97a9e71e7cee696be91a569eb65b9df9" title="Get the observation noise covariance matrix (C or H)" alt="" coords="644,5,848,61"/>
<area shape="poly" title=" " alt="" coords="552,126,595,98,643,71,654,65,656,70,646,76,597,103,555,130"/>
<area shape="rect" href="../../d7/d64/class_observation_model.html#aa789708c6a934ba1edfc8386b1f38d4f" title="Get the state to observation matrix of the observation model (H)" alt="" coords="671,85,821,141"/>
<area shape="poly" title=" " alt="" coords="596,135,655,125,656,130,597,140"/>
<area shape="rect" href="../../d7/d64/class_observation_model.html#a0f8d3fc26c59869171ad60d08322d1d7" title="Calculate expected observation from the state vector." alt="" coords="646,165,846,206"/>
<area shape="poly" title=" " alt="" coords="597,158,631,164,630,169,596,164"/>
<area shape="rect" href="../../db/d66/class_motion_model.html#aad4c79b92acd351e94e7b847b61f965b" title="Calculate state covariance matrix from motion estimation." alt="" coords="663,230,829,271"/>
<area shape="poly" title=" " alt="" coords="596,270,647,262,648,268,597,275"/>
<area shape="rect" href="../../db/d66/class_motion_model.html#a76de9b7caf93cd717bf388aff40ab589" title="Get the process noise covariance matrix object." alt="" coords="660,296,832,336"/>
<area shape="poly" title=" " alt="" coords="597,292,644,299,644,304,596,297"/>
<area shape="rect" href="../../db/d66/class_motion_model.html#a24a7f8fab182b07ba116911cdd33893f" title="Calculate expected state vector from motion estimation." alt="" coords="676,361,816,402"/>
<area shape="poly" title=" " alt="" coords="573,302,598,315,622,331,646,345,662,353,660,358,643,350,619,335,595,319,571,307"/>
</map>
</div>

</div>
</div>
<a id="a714e7a6776e47cbd6ae4f14ef9513195" name="a714e7a6776e47cbd6ae4f14ef9513195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a714e7a6776e47cbd6ae4f14ef9513195">&#9670;&#160;</a></span>_wheel_speeds_subscription_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LMNode::_wheel_speeds_subscription_callback </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lb_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lf_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rb_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rf_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>steering_angle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to be called everytime information is received from the wheel encoders. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lb_speed</td><td>wheel speeds in rpm </td></tr>
    <tr><td class="paramname">lf_speed</td><td>wheel speeds in rpm </td></tr>
    <tr><td class="paramname">rb_speed</td><td>wheel speeds in rpm </td></tr>
    <tr><td class="paramname">rf_speed</td><td>wheel speeds in rpm </td></tr>
    <tr><td class="paramname">steering_angle</td><td>steering angle in radians </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df0/lm__node_8cpp_source.html#l00098">98</a> of file <a class="el" href="../../d5/df0/lm__node_8cpp_source.html">lm_node.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/db3/class_l_m_node_a714e7a6776e47cbd6ae4f14ef9513195_cgraph.png" border="0" usemap="#add/db3/class_l_m_node_a714e7a6776e47cbd6ae4f14ef9513195_cgraph" alt=""/></div>
<map name="add/db3/class_l_m_node_a714e7a6776e47cbd6ae4f14ef9513195_cgraph" id="add/db3/class_l_m_node_a714e7a6776e47cbd6ae4f14ef9513195_cgraph">
<area shape="rect" title="Function to be called everytime information is received from the wheel encoders." alt="" coords="5,105,173,145"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#abbb3b2569d755a40a5e90c896787ecf1" title="publishes the localization (&#39;vehicle_localization&#39;) to the topic vehicle_location" alt="" coords="221,5,417,31"/>
<area shape="poly" title=" " alt="" coords="116,102,163,70,220,40,236,34,237,39,222,45,166,75,119,106"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#a2bf25930993183e7c24702634532adab" title="publishes the map (&#39;track_map&#39;) to the topic track_map" alt="" coords="240,55,398,80"/>
<area shape="poly" title=" " alt="" coords="172,101,249,82,250,87,174,107"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#a28a0317cd05f770daba784ab06a389c8" title="Converts the odometry data to translational and rotational velocities." alt="" coords="245,105,393,145"/>
<area shape="poly" title=" " alt="" coords="173,122,229,122,229,128,173,128"/>
<area shape="rect" href="../../da/da6/class_extended_kalman_filter.html#aa5aeb5c329fffcbcb1a197de8e263427" title="Prediction step:" alt="" coords="245,170,393,211"/>
<area shape="poly" title=" " alt="" coords="164,143,231,162,229,168,162,148"/>
<area shape="rect" href="../../da/da6/class_extended_kalman_filter.html#ae59429128f079a8a03c53360f7a9bf4f" title="Updates vehicle state and map variables according to the state vector X." alt="" coords="245,235,393,276"/>
<area shape="poly" title=" " alt="" coords="115,143,163,182,222,220,235,226,233,231,219,224,160,186,112,148"/>
<area shape="rect" href="../../da/d5d/formulas_8cpp.html#aa977d636c53692b00cc02c90dab37cff" title="Function to get the translational velocity of a wheel from rpm and wheel diameter." alt="" coords="486,71,617,112"/>
<area shape="poly" title=" " alt="" coords="393,112,469,100,470,106,394,117"/>
<area shape="rect" href="../../db/d66/class_motion_model.html#aad4c79b92acd351e94e7b847b61f965b" title="Calculate state covariance matrix from motion estimation." alt="" coords="469,137,634,177"/>
<area shape="poly" title=" " alt="" coords="392,177,452,168,453,174,393,182"/>
<area shape="rect" href="../../db/d66/class_motion_model.html#a76de9b7caf93cd717bf388aff40ab589" title="Get the process noise covariance matrix object." alt="" coords="465,202,637,243"/>
<area shape="poly" title=" " alt="" coords="393,198,450,206,449,211,392,203"/>
<area shape="rect" href="../../db/d66/class_motion_model.html#a24a7f8fab182b07ba116911cdd33893f" title="Calculate expected state vector from motion estimation." alt="" coords="481,267,621,308"/>
<area shape="poly" title=" " alt="" coords="389,209,418,221,443,236,466,252,479,258,477,263,464,256,440,241,416,226,387,214"/>
</map>
</div>

</div>
</div>
<a id="a28a0317cd05f770daba784ab06a389c8" name="a28a0317cd05f770daba784ab06a389c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28a0317cd05f770daba784ab06a389c8">&#9670;&#160;</a></span>odometry_to_velocities_transform()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d6d/struct_motion_update.html">MotionUpdate</a> LMNode::odometry_to_velocities_transform </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lb_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lf_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rb_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rf_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>steering_angle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts the odometry data to translational and rotational velocities. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lb_speed</td><td>wheel speeds in rpm </td></tr>
    <tr><td class="paramname">lf_speed</td><td>wheel speeds in rpm </td></tr>
    <tr><td class="paramname">rb_speed</td><td>wheel speeds in rpm </td></tr>
    <tr><td class="paramname">rf_speed</td><td>wheel speeds in rpm </td></tr>
    <tr><td class="paramname">steering_angle</td><td>steering angle in radians </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../db/d6d/struct_motion_update.html" title="Struct for data retrieved by the IMU.">MotionUpdate</a> transformed motion update data </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df0/lm__node_8cpp_source.html#l00198">198</a> of file <a class="el" href="../../d5/df0/lm__node_8cpp_source.html">lm_node.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/db3/class_l_m_node_a28a0317cd05f770daba784ab06a389c8_cgraph.png" border="0" usemap="#add/db3/class_l_m_node_a28a0317cd05f770daba784ab06a389c8_cgraph" alt=""/></div>
<map name="add/db3/class_l_m_node_a28a0317cd05f770daba784ab06a389c8_cgraph" id="add/db3/class_l_m_node_a28a0317cd05f770daba784ab06a389c8_cgraph">
<area shape="rect" title="Converts the odometry data to translational and rotational velocities." alt="" coords="5,5,154,46"/>
<area shape="rect" href="../../da/d5d/formulas_8cpp.html#aa977d636c53692b00cc02c90dab37cff" title="Function to get the translational velocity of a wheel from rpm and wheel diameter." alt="" coords="202,5,333,46"/>
<area shape="poly" title=" " alt="" coords="154,23,186,23,186,28,154,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/db3/class_l_m_node_a28a0317cd05f770daba784ab06a389c8_icgraph.png" border="0" usemap="#add/db3/class_l_m_node_a28a0317cd05f770daba784ab06a389c8_icgraph" alt=""/></div>
<map name="add/db3/class_l_m_node_a28a0317cd05f770daba784ab06a389c8_icgraph" id="add/db3/class_l_m_node_a28a0317cd05f770daba784ab06a389c8_icgraph">
<area shape="rect" title="Converts the odometry data to translational and rotational velocities." alt="" coords="221,35,369,75"/>
<area shape="rect" href="../../dd/db3/class_l_m_node.html#a714e7a6776e47cbd6ae4f14ef9513195" title="Function to be called everytime information is received from the wheel encoders." alt="" coords="5,5,173,46"/>
<area shape="poly" title=" " alt="" coords="205,45,173,40,174,35,206,40"/>
<area shape="rect" href="../../d8/dbd/motion__model__test_8cpp.html#a2e006feda9100c097f7afbbf79420825" title="Tests the conversion from wheel revolutions to velocities using the bycicle model." alt="" coords="62,70,116,96"/>
<area shape="poly" title=" " alt="" coords="205,70,117,82,116,77,205,65"/>
</map>
</div>

</div>
</div>
<a id="a88d954224798c10f160ef922ca270c85" name="a88d954224798c10f160ef922ca270c85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88d954224798c10f160ef922ca270c85">&#9670;&#160;</a></span>set_mission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LMNode::set_mission </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d14/loc__map_2include_2utils_2mission_8hpp.html#af686af98019fe71e9f18190349618431">Mission</a>&#160;</td>
          <td class="paramname"><em>mission</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mission setter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mission</td><td>New mission </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df0/lm__node_8cpp_source.html#l00129">129</a> of file <a class="el" href="../../d5/df0/lm__node_8cpp_source.html">lm_node.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/loc_map/include/loc_map/<a class="el" href="../../d9/d84/lm__node_8hpp_source.html">lm_node.hpp</a></li>
<li>src/loc_map/src/loc_map/<a class="el" href="../../d5/df0/lm__node_8cpp_source.html">lm_node.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dd/db3/class_l_m_node.html">LMNode</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
