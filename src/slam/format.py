import re

output_string = """track:
  version: 1.0
  lanesFirstWithLastConnected: false
  start:
    pose: [0, 0.0, 0.0]
  earthToTrack:
    position: [0.0, 0.0, 0.0]
    orientation: [0.0, 0.0, 0.0]
  left:
  right:
  time_keeping:
  unknown:\n"""
  
input_cones = """(21.389288006241067, 1.6259677215598272), (21.67373532803474, -1.8342692908291565), (12.41375362496421, -17.701235257685212), (23.80649851294385, 1.9961197784805202), (8.387278698780934, -19.82514652935703), (16.466041046486477, -15.749880953362206), (25.15272092520826, -1.294028009328845), (25.67218001855477, 2.880894551945877), (20.555358426136493, -13.768614097495659), (27.27019783731637, 5.0209375319470855), (28.041716387829606, 0.2878611391680058), (24.56597885677178, -11.75556417741298), (29.346863131841967, 1.6518315205796044), (28.491140585231452, 7.911089016845398), (30.405283878935066, 3.4683791678749563), (18.360601041502743, -18.725990167911974), (26.56613227031285, 11.71889879708702), (28.47078599088699, -9.65345254289306), (21.705684370962377, -17.807561737015618), (28.00318146403647, 10.21948173173525), (24.374923779113043, 14.873201856971892), (31.338837746250817, 5.333937231726506), (26.31917602993796, -14.939705782518173), (14.321481956710834, -20.746608049727364), (32.08211958702466, 7.622306710727417), (31.45766926687491, 11.182466407163043), (30.3792433092678, -12.702264583123213), (32.349674799848344, -7.689711950950968), (29.27917880423643, 14.007778726755369), (27.846587647616893, 18.071618209367053), (16.321321692491505, -14.054197905899159), (36.33817418465225, -5.5577223088373735), (34.51310761863657, -10.72797634049117), (27.269728340573376, 18.67588947367759), (39.22390207049575, -4.059875751166881), (38.382822020111, -8.541536484226961), (41.658263200344514, -2.0592568521214596), (41.68668338052126, -6.59924450802764), (44.89475662479599, 1.595655248295124), (44.57272073175528, -4.324195693744487), (27.093940740889828, 20.856749654672793), (23.511018858327148, 18.57312358602521), (23.991009958088064, 21.65021479003698), (47.73711590444538, -0.6661040100537104), (47.94592914548282, 5.233960954232499), (28.56432352675873, 24.034801223864864), (25.767816608301978, 23.99050600809743), (49.68475805962337, 8.664221623300827), (29.070597441025804, 26.14090555092508), (26.20764813930816, 26.63915068025201), (50.620939739603415, 12.11590187737678), (29.12529000365888, 28.054583962273266), (28.413796456845212, 29.943980377661013), (24.64581836170292, 29.3671324786939), (22.391240507985614, 31.72380336336962), (27.12028355799802, 32.032965884772324), (20.145781556688224, 32.507167010631626), (24.52734685938393, 34.37856741143578), (17.30329357266592, 32.973665946236416), (14.647117870934235, 32.90367216593822), (21.2564885543144, 35.8263024966574), (10.353446223956588, 30.73669689539158), (7.572353485705365, 28.011593699451037), (17.971174893749374, 36.48881312709552), (39.214484996681215, 32.92129544583579), (36.880789292782204, 35.365097768017634), (13.865098340596449, 36.43314365917138), (35.55755622739879, 37.77241547335112), (10.560367840196811, 34.986537613499486), (7.972670697829389, 32.878939322078494), (43.61806833514687, 31.179871424064277), (34.32424589431214, 39.861798049066834), (40.902095534914864, 36.320759307197015), (32.461890807890555, 41.81318335207229), (40.02222103556055, 37.57153216158989), (28.700812455116793, 44.033428725618684), (39.139916439028795, 39.05656122114261), (37.58753907093727, 42.30095582027956), (45.24117491589451, 34.19539021711514), (34.21458313986115, 44.8210719361951), (25.178833335956053, 45.63893945264385), (47.737971866726504, 29.19493942593751), (30.48297865757543, 47.202647731314165), (27.031931465735983, 49.194295133961845), (20.69539070346434, 47.898925347389806), (5.198965806240795, 30.71857352128267), (22.38178083860276, 51.28020264304174), (17.03682359553006, 49.79274041490877), (18.983596034892134, 52.81482728352454), (13.447904245461386, 50.76678169421903), (2.067033862520838, 29.13427574861846), (16.954656978152148, 53.64511528402545), (3.86541500362824, 26.293985347883496), (9.507662469489295, 50.64812414475607), (14.22532623610337, 54.57442513456554), (-1.154290295500072, 27.735417443197505), (4.613555010110206, 50.1512683996718), (0.5912690220888993, 24.67280726942949), (9.111454228796589, 54.202009490352935), (0.48974819327880253, 48.51822376244287), (-4.103946111534365, 27.193762293553963), (-3.098974067645431, 46.502709235671176), (-3.191538790232285, 23.654117493275436), (4.313431310146983, 53.58408495486383), (-6.849335915337426, 44.03194005508362), (-7.2846295351323045, 26.26613653409632), (-7.170722384429113, 22.72439985939919), (-10.300807911105686, 26.386068787584513), (-12.232869396958996, 26.868963374765602), (-10.982405908087513, 22.97519322699486), (-13.726353980976043, 27.63314577080668), (-12.062027140140508, 38.84414244306795), (-13.434132324522908, 23.519952269127007), (-15.875116677160051, 29.483154478389633), (-9.331095618392784, 41.43955261312478), (-13.501631207792256, 36.25657017803633), (-15.03764680622806, 33.933756488208836), (-16.049453599375866, 31.88012019702476), (-15.50202481462491, 24.645703589334495), (-17.32003764868317, 25.673018538011366), (-19.307190133687367, 28.22486129016517), (-19.572473299892145, 30.428120314107343), (-19.294161259789057, 32.81627609481811), (-14.50147902849382, 41.38844224963543), (-18.26297933722667, 35.449411372148234), (-16.491157060518564, 38.36343825256624), (-11.647212548847197, 44.19968968769584), (-8.944542691983884, 47.08762936056697), (-11.765303689099271, 44.21650895668713), (-4.825187560842522, 49.713970275569196), (-0.5268312118643621, 51.94179440642197), (49.3663404166257, 32.3185760547772), (49.52769422034311, 27.30359940529099), (51.78225870252513, 29.960035551352533), (51.42957429763884, 25.20563233777781), (54.545022114645946, 26.87978357377446), (52.85502099239155, 22.701238910229296), (56.003335578323416, 24.790311192580084), (54.001235466584404, 18.679249348494384), (53.93422536336323, 19.961937157173615), (57.04912372217787, 22.224526030989374), (52.524352377202, 16.307776065147216), (53.52757407425636, 18.219515074482032), (53.77337594531108, 21.070513493925933), (51.57787251978501, 14.494749024092343), (56.83271420992422, 17.613435629755777), (57.670119637375244, 20.041434596769495), (53.93275706879365, 19.949040708839558), (55.81169053366539, 15.247360400761522), (54.893164845903556, 13.045646552545303), (54.08746891787395, 10.946295923727913), (52.88117435522763, 7.22027763272623), (51.09990850274246, 3.2218714717358052), (52.874294592159096, 7.170118999055749), (10.131373799805361, -22.880205825543595), (6.257104828000744, -24.751903209448468), (4.376811055394523, -21.845676416378517), (2.1823272503167015, -26.713408934035602), (0.6510082579812896, -23.534111103174506), (-1.9826467581450464, -28.366699318222942), (-3.5876164681318827, -25.06343240526348), (-7.5999018934218805, -26.36076545388385), (-7.10206702107789, -29.87933170985985), (-11.004265166126034, -26.718004332794496), (-10.952808547999528, -30.280399588741638), (5.985102635345497, -20.021169760578438), (-13.053916903105465, -26.110539542342465), (-12.970625653869757, -29.877290373076903), (-14.536410076026018, -29.27859663583831), (-15.091579614793808, -24.754607772003133), (-15.530706570168343, -22.063720932862847), (-15.42516349643984, -19.066943901199824), (-15.011534449424701, -15.51913462926915), (-16.50187059459203, -28.015809710028496), (-13.881107604531081, -12.093073107314204), (-19.083142163223837, -22.32136148422819), (-18.728281323528762, -24.251186583347533), (-19.013926725973157, -18.692607761873216), (-12.145672002596209, -9.001027291727171), (-18.171787530275047, -26.25245094133307), (-18.58099285726915, -14.788858389019197), (-19.46163923538582, -25.907685663467955), (-1.2511192772237458, -41.17112536801288), (-17.098570901470286, -10.655078727314466), (-15.400039389881137, -7.058873548084523), (-9.841363600539747, -5.7317509649732905), (-12.685220885395752, -3.536559557580313), (-6.901599357884838, -3.254962737017922), (-9.048161831977438, -0.5171521389053673), (-3.932941786010416, -2.0436352666004924), (-5.072080214319033, 1.2535919107821611), (-0.5722046181447417, -1.3587974076191134), (-1.0530786978574391, 1.913300994600631),(5.076833724975586, -1.4492740631103516), (1.6377781629562378, 1.987723469734192), (12.790818214416504, 1.757738471031189), (5.128137111663818, 2.010254144668579), (12.800914764404297, -1.7448102235794067), (16.977638244628906, 1.7025628089904785), (17.379533767700195, -1.7349836826324463), (8.054586410522461, 1.8665956258773804), (7.39292573928833, -1.5718032121658325), (7.704288959503174, 1.9294309616088867), (7.400172710418701, -1.576185703277588), (7.697709083557129, 1.9342889785766602), (7.400914192199707, -1.5711385011672974), (2.10587,-1.63374)"""

def parse_cones(cones_str):
    """Parses a string of cones into a list of tuples."""
    pattern = r"\((-?\d+\.?\d*),\s*(-?\d+\.?\d*)\)"
    matches = re.findall(pattern, cones_str)
    return [(float(x), float(y)) for x, y in matches]

def write_cone(cone):
    global output_string
    x, y  = cone
    output_string+="""  - position: [""" + str(x) + ", " + str(y) + """, 0.0]
    class: unknown\n"""


def filter_cones(cones_str):
    """Filters cones based on a given function."""
    cones = parse_cones(cones_str)
    [cone for cone in cones if write_cone(cone)]


filter_cones(input_cones)
print(output_string)
