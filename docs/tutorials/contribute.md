# Contributing

This guide aims to clarify the necessary steps for creating code that will result in an accepting pull request following the project's norms.

You work with your **shell always in the src directory**. In it, you can find mutiple scripts that will help you on the upcoming tasks. You need to install the tools in [this file](../technologies.md) to contribute. The tutorials listed before this one on the [Startup Guide](./startup_guide.md) should have given you a decent insight on their purposes and how to use them in this project.

## Natural Workflow 

- Change directory to *src* if you haven't already
  ```sh
  cd src
  ```
- Program
- Compile
  ```sh
  colcon build --packages-select [your package and others necessary]
  source install/setup.bash
  ```
- Run code (`ros-args` are optional) (check speific instructions for each node in [here](./project_general_tutorial.md))
  ```sh
  ros2 run [package_name] [node_name] (--ros-args -p [param_name]:=[param_value])
  ```
- Run tests
  ```sh
  colcon test --packages-select [your package and others necessary] [--event-handler=console_direct+] #last part for verbose
  ```
For the next part, it is advisable that you delete the *build*, *install* and *log* folders generated by the compilation of the code.

For C++:
- Run cppcheck
  ```sh
  ./cppcheck.sh
  ```
- Format code
  ```sh
  ./clang-format.sh
  ```
- Run linter
  ```sh 
  ./cpplint.sh
  ```
For Python:
- Run liner/formatter
  ```sh
  ./ruff.sh 
  ```
For everybody:
- Run documentator
  ```sh
  ./document.sh
  ```
- Finally push changes to repository
  ```sh
  git add -A
  git commit -m "feat(<package>): <description>"
  git push
  ```
  Note that the commit message should more or less follow the [Conventional Commits norms](https://www.conventionalcommits.org/en/v1.0.0-beta.4/)
